<!doctype html>

<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>German BNF</title>
<style>
  :root{--bg:#0f1724;--card:#0b1220;--accent:#7c3aed;color-scheme:dark}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#071021 0%,#071428 100%);font-family:Inter, Roboto, Arial, sans-serif;color:#e6eef8}
  .wrap{max-width:1100px;margin:28px auto;padding:20px}
  header{display:flex;gap:16px;align-items:center}
  h1{margin:.2rem 0;font-size:1.4rem}
  .grid{display:grid;grid-template-columns:360px 1fr;gap:16px;margin-top:16px}
  .sidebar{background:var(--card);padding:12px;border-radius:12px;overflow:auto;max-height:75vh}
  .main{background:rgba(255,255,255,0.02);padding:12px;border-radius:12px;max-height:75vh;overflow:auto}
  .bnf-rule{margin:8px 0;padding:8px;border-radius:8px}
  .nonterm{color:var(--accent);cursor:pointer;text-decoration:underline}
  .terminal{color:#9fe3c1;cursor:pointer}
  .search{display:flex;gap:8px;margin-bottom:8px}
  input[type=text]{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
  button{padding:8px 10px;border-radius:8px;border:0;background:var(--accent);color:#041121;cursor:pointer}
  .modal{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;visibility:hidden;opacity:0;transition:all .18s}
  .modal.open{visibility:visible;opacity:1}
  .card{background:#031028;padding:18px;border-radius:12px;max-width:720px;width:100%;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  .lex-row{display:flex;gap:12px;align-items:flex-start;margin:8px 0}
  .flexions{font-family:monospace;background:#021827;padding:8px;border-radius:8px}
  footer{margin-top:12px;font-size:0.8rem;color:#9fb0c9}
  .bnf-title{font-weight:600;margin:6px 0}
  .defs{padding-left:10px}
  .kbd{font-family:monospace;background:#021827;padding:2px 6px;border-radius:6px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>German BNF</h1>
      <div style="font-size:.9rem;color:#9fb0c9">Click nonterminals to jump to definitions. Click terminals to open dictionary entries (sample lexicon included).</div>
    </div>
  </header>  <div class="grid">
    <aside class="sidebar">
      <div class="search">
        <input id="search" placeholder="Find nonterminal or word (type &quot;NP&quot; or &quot;Haus&quot;)" />
        <button id="clear">Clear</button>
      </div>
      <div class="bnf-index">
        <div class="bnf-title">Index (nonterminals)</div>
        <div id="indexList"></div>
      </div>
      <hr style="opacity:.06;margin:10px 0">
      <div class="bnf-title">Lexicon (sample)</div>
      <div id="lexList" style="max-height:36vh;overflow:auto"></div>
      <hr style="opacity:.06;margin:10px 0">
      <div style="font-size:.85rem">Tips: paste a larger JSON lexicon into the textarea below to extend to ~2k terminals. The format is an array of objects: {"word":"Haus","ipa":"haʊs","pos":"N","flexions":"Singular: Haus; Plural: Häuser","meanings":["house","building"]}</div>
      <textarea id="lexImport" placeholder='Paste JSON lexicon here (array)' style="width:100%;height:90px;margin-top:8px;background:#020b12;color:#cde6f0;border-radius:6px;padding:8px"></textarea>
      <button id="importLex">Import lexicon</button>
    </aside><main class="main">
  <section id="bnfArea">
    <div class="bnf-rule" id="S"><span class="nonterm" data-n="S">&lt;S&gt;</span> ::= &lt;NP&gt; &lt;VP&gt; | &lt;VP&gt;</div>
    <div class="bnf-rule" id="NP"><span class="nonterm" data-n="NP">&lt;NP&gt;</span> ::= &lt;Det&gt; &lt>NN&gt; | &lt>NN&gt; | &lt;NP&gt; &lt;PP&gt;</div>
    <div class="bnf-rule" id="VP"><span class="nonterm" data-n="VP">&lt;VP&gt;</span> ::= &lt;V&gt; | &lt;V&gt; &lt;NP&gt; | &lt;V&gt; &lt;PP&gt; | &lt;V&gt; &lt;NP&gt; &lt;PP&gt;</div>
    <div class="bnf-rule" id="Det"><span class="nonterm" data-n="Det">&lt;Det&gt;</span> ::= <span class="terminal" data-w="der">der</span> | <span class="terminal" data-w="die">die</span> | <span class="terminal" data-w="das">das</span> | <span class="terminal" data-w="ein">ein</span> | <span class="terminal" data-w="eine">eine</span>
    </div>

    <div class="bnf-rule" id="NN"><span class="nonterm" data-n="NN">&lt;NN&gt;</span> ::= <span class="terminal" data-w="Mann">Mann</span> | <span class="terminal" data-w="Frau">Frau</span> | <span class="terminal" data-w="Haus">Haus</span> | <span class="terminal" data-w="Kind">Kind</span> | <span class="terminal" data-w="Auto">Auto</span>
    </div>

    <div class="bnf-rule" id="V"><span class="nonterm" data-n="V">&lt;V&gt;</span> ::= <span class="terminal" data-w="ist">ist</span> | <span class="terminal" data-w="hat">hat</span> | <span class="terminal" data-w="geht">geht</span> | <span class="terminal" data-w="sieht">sieht</span> | <span class="terminal" data-w="nimmt">nimmt</span>
    </div>

    <div class="bnf-rule" id="AdjP"><span class="nonterm" data-n="AdjP">&lt;AdjP&gt;</span> ::= &lt;Adj&gt; | &lt;Adj&gt; &lt;AdjP&gt;</div>
    <div class="bnf-rule" id="Adj"><span class="nonterm" data-n="Adj">&lt;Adj&gt;</span> ::= <span class="terminal" data-w="schön">schön</span> | <span class="terminal" data-w="alt">alt</span> | <span class="terminal" data-w="neu">neu</span> | <span class="terminal" data-w="groß">groß</span></div>

    <div class="bnf-rule" id="PP"><span class="nonterm" data-n="PP">&lt;PP&gt;</span> ::= &lt;P&gt; &lt;NP&gt;</div>
    <div class="bnf-rule" id="P"><span class="nonterm" data-n="P">&lt;P&gt;</span> ::= <span class="terminal" data-w="in">in</span> | <span class="terminal" data-w="auf">auf</span> | <span class="terminal" data-w="mit">mit</span> | <span class="terminal" data-w="von">von</span>
    </div>

    <div class="bnf-rule" id="Pron"><span class="nonterm" data-n="Pron">&lt;Pron&gt;</span> ::= <span class="terminal" data-w="ich">ich</span> | <span class="terminal" data-w="du">du</span> | <span class="terminal" data-w="er">er</span> | <span class="terminal" data-w="sie">sie</span> | <span class="terminal" data-w="wir">wir</span>
    </div>

    <div class="bnf-rule" id="SentenceTypes"><span class="nonterm" data-n="SentenceTypes">&lt;SentenceTypes&gt;</span> ::= &lt;S&gt; | &lt;Q&gt; | &lt;Imp&gt;</div>
    <div class="bnf-rule" id="Q"><span class="nonterm" data-n="Q">&lt;Q&gt;</span> ::= <span class="terminal" data-w="wer">wer</span> | <span class="terminal" data-w="was">was</span> | <span class="terminal" data-w="wo">wo</span> | <span class="terminal" data-w="warum">warum</span>
    </div>

    <div style="margin-top:12px;font-size:.95rem;color:#9fb0c9">This BNF is intentionally compact. Expand rules or the lexicon as needed — the_import area on the left accepts a JSON array of lexicon objects.</div>
  </section>

  <footer>
    <div>Export: copy the whole HTML into a new CodePen (HTML panel). The script is self-contained (no external servers). To reach ~2k terminals, paste a lexicon JSON with ~2000 objects into the import textarea and press "Import lexicon".</div>
  </footer>
</main>

  </div>
</div><!-- Modal for dictionary entries --><div class="modal" id="modal">
  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div id="modalTitle" style="font-size:1.1rem;font-weight:600"></div>
      <button id="close">Close</button>
    </div>
    <div style="margin-top:8px" id="modalBody"></div>
  </div>
</div><script>
/* Sample lexicon (small) — replace or import a larger JSON via textarea. Each entry: {word,ipa,pos,flexions,meanings} */
let lexicon = [
  {"word":"der","ipa":"deːɐ̯","pos":"DET","flexions":"Masc.Def.Art","meanings":["the (masc)"]},
  {"word":"die","ipa":"diː","pos":"DET","flexions":"Fem/Pl.Def.Art","meanings":["the (fem/pl)"]},
  {"word":"das","ipa":"das","pos":"DET","flexions":"Neu.Def.Art","meanings":["the (neut)"]},
  {"word":"ein","ipa":"aɪn","pos":"DET","flexions":"Indef.Art","meanings":["a","one (masc/neut)"]},
  {"word":"eine","ipa":"aɪnə","pos":"DET","flexions":"Indef.Art","meanings":["a (fem)"]},
  {"word":"einen","ipa":"aɪnən","pos":"DET","flexions":"Indef.Art.Akk.Masc","meanings":["a (masc acc)"]},
  {"word":"dieser","ipa":"diːzɐ","pos":"DET","flexions":"Dem.Pron.Masc","meanings":["this (masc)"]},
  {"word":"diese","ipa":"diːzə","pos":"DET","flexions":"Dem.Pron.Fem","meanings":["this (fem)"]},
  {"word":"dieses","ipa":"diːzəs","pos":"DET","flexions":"Dem.Pron.Neu","meanings":["this (neut)"]},
  {"word":"jeder","ipa":"jeːdɐ","pos":"DET","flexions":"Indef.Pron.Masc","meanings":["every (masc)","each"]},
  {"word":"jede","ipa":"jeːdə","pos":"DET","flexions":"Indef.Pron.Fem","meanings":["every (fem)","each"]},
  {"word":"jedes","ipa":"jeːdəs","pos":"DET","flexions":"Indef.Pron.Neu","meanings":["every (neut)","each"]},
  {"word":"alle","ipa":"alə","pos":"DET","flexions":"Indef.Pron.Pl","meanings":["all","everyone"]},
  {"word":"viele","ipa":"fiːlə","pos":"DET","flexions":"Indef.Pron.Pl","meanings":["many","lots of"]},
  {"word":"wenige","ipa":"veːnɪɡə","pos":"DET","flexions":"Indef.Pron.Pl","meanings":["few","not many"]},
  {"word":"mein","ipa":"maɪn","pos":"DET","flexions":"Poss.Pron.1sg","meanings":["my"]},
  {"word":"dein","ipa":"daɪn","pos":"DET","flexions":"Poss.Pron.2sg","meanings":["your (sg)"]},
  {"word":"sein","ipa":"zaɪn","pos":"DET","flexions":"Poss.Pron.3sg.masc","meanings":["his","its"]},
  {"word":"ihr","ipa":"iːɐ̯","pos":"DET","flexions":"Poss.Pron.3sg.fem","meanings":["her"]},
  {"word":"unser","ipa":"ʊnzɐ","pos":"DET","flexions":"Poss.Pron.1pl","meanings":["our"]},
  {"word":"Mann","ipa":"man","pos":"N","flexions":"Sing: Mann; Plural: Männer","meanings":["man","male","husband"]},
  {"word":"Frau","ipa":"fraʊ","pos":"N","flexions":"Sing: Frau; Plural: Frauen","meanings":["woman","Mrs.","wife"]},
  {"word":"Kind","ipa":"kɪnt","pos":"N","flexions":"Sing: Kind; Plural: Kinder","meanings":["child"]},
  {"word":"Baby","ipa":"beːbi","pos":"N","flexions":"Sing: Baby; Plural: Babys","meanings":["baby"]},
  {"word":"Mutter","ipa":"mʊtɐ","pos":"N","flexions":"Sing: Mutter; Plural: Mütter","meanings":["mother"]},
  {"word":"Vater","ipa":"faːtɐ","pos":"N","flexions":"Sing: Vater; Plural: Väter","meanings":["father"]},
  {"word":"Eltern","ipa":"ɛltɐn","pos":"N","flexions":"Plural: Eltern","meanings":["parents"]},
  {"word":"Sohn","ipa":"zoːn","pos":"N","flexions":"Sing: Sohn; Plural: Söhne","meanings":["son"]},
  {"word":"Tochter","ipa":"tɔxtɐ","pos":"N","flexions":"Sing: Tochter; Plural: Töchter","meanings":["daughter"]},
  {"word":"Bruder","ipa":"bʁuːdɐ","pos":"N","flexions":"Sing: Bruder; Plural: Brüder","meanings":["brother"]},
  {"word":"Schwester","ipa":"ʃvɛstɐ","pos":"N","flexions":"Sing: Schwester; Plural: Schwestern","meanings":["sister"]},
  {"word":"Großmutter","ipa":"ɡroːsmʊtɐ","pos":"N","flexions":"Sing: Großmutter; Plural: Großmütter","meanings":["grandmother"]},
  {"word":"Großvater","ipa":"ɡroːsfaːtɐ","pos":"N","flexions":"Sing: Großvater; Plural: Großväter","meanings":["grandfather"]},
  {"word":"Familie","ipa":"faˈmiːliə","pos":"N","flexions":"Sing: Familie; Plural: Familien","meanings":["family"]},
  {"word":"Freund","ipa":"fʁɔɪnt","pos":"N","flexions":"Sing: Freund; Plural: Freunde","meanings":["friend (male)","boyfriend"]},
  {"word":"Freundin","ipa":"fʁɔɪndɪn","pos":"N","flexions":"Sing: Freundin; Plural: Freundinnen","meanings":["friend (female)","girlfriend"]},
  {"word":"Person","ipa":"pɛʁˈzoːn","pos":"N","flexions":"Sing: Person; Plural: Personen","meanings":["person"]},
  {"word":"Mensch","ipa":"mɛnʃ","pos":"N","flexions":"Sing: Mensch; Plural: Menschen","meanings":["human","person"]},
  {"word":"Leute","ipa":"lɔɪtə","pos":"N","flexions":"Plural: Leute","meanings":["people"]},
  {"word":"Körper","ipa":"kœʁpɐ","pos":"N","flexions":"Sing: Körper; Plural: Körper","meanings":["body"]},
  {"word":"Kopf","ipa":"kɔpf","pos":"N","flexions":"Sing: Kopf; Plural: Köpfe","meanings":["head"]},
  {"word":"Haar","ipa":"haːɐ̯","pos":"N","flexions":"Sing: Haar; Plural: Haare","meanings":["hair"]},
  {"word":"Gesicht","ipa":"ɡəˈzɪçt","pos":"N","flexions":"Sing: Gesicht; Plural: Gesichter","meanings":["face"]},
  {"word":"Auge","ipa":"aʊɡə","pos":"N","flexions":"Sing: Auge; Plural: Augen","meanings":["eye"]},
  {"word":"Nase","ipa":"naːzə","pos":"N","flexions":"Sing: Nase; Plural: Nasen","meanings":["nose"]},
  {"word":"Mund","ipa":"mʊnt","pos":"N","flexions":"Sing: Mund; Plural: Münder","meanings":["mouth"]},
  {"word":"Ohr","ipa":"oːɐ̯","pos":"N","flexions":"Sing: Ohr; Plural: Ohren","meanings":["ear"]},
  {"word":"Zahn","ipa":"tsaːn","pos":"N","flexions":"Sing: Zahn; Plural: Zähne","meanings":["tooth"]},
  {"word":"Hals","ipa":"hals","pos":"N","flexions":"Sing: Hals; Plural: Hälse","meanings":["neck","throat"]},
  {"word":"Arm","ipa":"aʁm","pos":"N","flexions":"Sing: Arm; Plural: Arme","meanings":["arm"]},
  {"word":"Hand","ipa":"hant","pos":"N","flexions":"Sing: Hand; Plural: Hände","meanings":["hand"]},
  {"word":"Finger","ipa":"fɪŋɐ","pos":"N","flexions":"Sing: Finger; Plural: Finger","meanings":["finger"]},
  {"word":"Bein","ipa":"baɪn","pos":"N","flexions":"Sing: Bein; Plural: Beine","meanings":["leg"]},
  {"word":"Fuß","ipa":"fuːs","pos":"N","flexions":"Sing: Fuß; Plural: Füße","meanings":["foot"]},
  {"word":"Herz","ipa":"hɛʁts","pos":"N","flexions":"Sing: Herz; Plural: Herzen","meanings":["heart"]},
  {"word":"Haus","ipa":"haʊs","pos":"N","flexions":"Sing: Haus; Plural: Häuser","meanings":["house"]},
  {"word":"Wohnung","ipa":"voːnʊŋ","pos":"N","flexions":"Sing: Wohnung; Plural: Wohnungen","meanings":["apartment"]},
  {"word":"Zimmer","ipa":"tsɪmɐ","pos":"N","flexions":"Sing: Zimmer; Plural: Zimmer","meanings":["room"]},
  {"word":"Küche","ipa":"kyçə","pos":"N","flexions":"Sing: Küche; Plural: Küchen","meanings":["kitchen"]},
  {"word":"Badezimmer","ipa":"baːdətsɪmɐ","pos":"N","flexions":"Sing: Badezimmer; Plural: Badezimmer","meanings":["bathroom"]},
  {"word":"Schlafzimmer","ipa":"ʃlaːftsɪmɐ","pos":"N","flexions":"Sing: Schlafzimmer; Plural: Schlafzimmer","meanings":["bedroom"]},
  {"word":"Wohnzimmer","ipa":"voːntsɪmɐ","pos":"N","flexions":"Sing: Wohnzimmer; Plural: Wohnzimmer","meanings":["living room"]},
  {"word":"Tür","ipa":"tyːɐ̯","pos":"N","flexions":"Sing: Tür; Plural: Türen","meanings":["door"]},
  {"word":"Fenster","ipa":"fɛnstɐ","pos":"N","flexions":"Sing: Fenster; Plural: Fenster","meanings":["window"]},
  {"word":"Bett","ipa":"bɛt","pos":"N","flexions":"Sing: Bett; Plural: Betten","meanings":["bed"]},
  {"word":"Stuhl","ipa":"ʃtuːl","pos":"N","flexions":"Sing: Stuhl; Plural: Stühle","meanings":["chair"]},
  {"word":"Tisch","ipa":"tɪʃ","pos":"N","flexions":"Sing: Tisch; Plural: Tische","meanings":["table"]},
  {"word":"Schrank","ipa":"ʃʁaŋk","pos":"N","flexions":"Sing: Schrank; Plural: Schränke","meanings":["closet","cabinet"]},
  {"word":"Telefon","ipa":"teleˈfoːn","pos":"N","flexions":"Sing: Telefon; Plural: Telefone","meanings":["telephone"]},
  {"word":"Computer","ipa":"kɔmˈpjuːtɐ","pos":"N","flexions":"Sing: Computer; Plural: Computer","meanings":["computer"]},
  {"word":"Fernseher","ipa":"fɛʁnzeːɐ","pos":"N","flexions":"Sing: Fernseher; Plural: Fernseher","meanings":["television"]},
  {"word":"Radio","ipa":"ˈʁaːdio","pos":"N","flexions":"Sing: Radio; Plural: Radios","meanings":["radio"]},
  {"word":"Auto","ipa":"aʊto","pos":"N","flexions":"Sing: Auto; Plural: Autos","meanings":["car"]},
  {"word":"Bus","ipa":"bʊs","pos":"N","flexions":"Sing: Bus; Plural: Busse","meanings":["bus"]},
  {"word":"Zug","ipa":"tsuːk","pos":"N","flexions":"Sing: Zug; Plural: Züge","meanings":["train"]},
  {"word":"Flugzeug","ipa":"fluːktsɔɪk","pos":"N","flexions":"Sing: Flugzeug; Plural: Flugzeuge","meanings":["airplane"]},
  {"word":"Fahrrad","ipa":"faːɐ̯ʁaːt","pos":"N","flexions":"Sing: Fahrrad; Plural: Fahrräder","meanings":["bicycle"]},
  {"word":"Straße","ipa":"ʃtraːsə","pos":"N","flexions":"Sing: Straße; Plural: Straßen","meanings":["street"]},
  {"word":"Stadt","ipa":"ʃtat","pos":"N","flexions":"Sing: Stadt; Plural: Städte","meanings":["city"]},
  {"word":"Dorf","ipa":"dɔʁf","pos":"N","flexions":"Sing: Dorf; Plural: Dörfer","meanings":["village"]},
  {"word":"Land","ipa":"lant","pos":"N","flexions":"Sing: Land; Plural: Länder","meanings":["country","land"]},
  {"word":"Welt","ipa":"vɛlt","pos":"N","flexions":"Sing: Welt; Plural: Welten","meanings":["world"]},
  {"word":"Erde","ipa":"eːɐ̯də","pos":"N","flexions":"Sing: Erde; Plural: Erden","meanings":["earth","ground"]},
  {"word":"Himmel","ipa":"hɪməl","pos":"N","flexions":"Sing: Himmel; Plural: Himmel","meanings":["sky","heaven"]},
  {"word":"Sonne","ipa":"zɔnə","pos":"N","flexions":"Sing: Sonne; Plural: Sonnen","meanings":["sun"]},
  {"word":"Mond","ipa":"moːnt","pos":"N","flexions":"Sing: Mond; Plural: Monde","meanings":["moon"]},
  {"word":"Stern","ipa":"ʃtɛʁn","pos":"N","flexions":"Sing: Stern; Plural: Sterne","meanings":["star"]},
  {"word":"Wasser","ipa":"vasɐ","pos":"N","flexions":"Sing: Wasser","meanings":["water"]},
  {"word":"Luft","ipa":"lʊft","pos":"N","flexions":"Sing: Luft; Plural: Lüfte","meanings":["air"]},
  {"word":"Feuer","ipa":"fɔɪɐ","pos":"N","flexions":"Sing: Feuer; Plural: Feuer","meanings":["fire"]},
  {"word":"Wind","ipa":"vɪnt","pos":"N","flexions":"Sing: Wind; Plural: Winde","meanings":["wind"]},
  {"word":"Regen","ipa":"ʁeːɡən","pos":"N","flexions":"Sing: Regen","meanings":["rain"]},
  {"word":"Schnee","ipa":"ʃneː","pos":"N","flexions":"Sing: Schnee","meanings":["snow"]},
  {"word":"Eis","ipa":"aɪs","pos":"N","flexions":"Sing: Eis","meanings":["ice"]},
  {"word":"Wetter","ipa":"vɛtɐ","pos":"N","flexions":"Sing: Wetter","meanings":["weather"]},
  {"word":"Baum","ipa":"baʊm","pos":"N","flexions":"Sing: Baum; Plural: Bäume","meanings":["tree"]},
  {"word":"Blume","ipa":"bluːmə","pos":"N","flexions":"Sing: Blume; Plural: Blumen","meanings":["flower"]},
  {"word":"Gras","ipa":"ɡʁaːs","pos":"N","flexions":"Sing: Gras; Plural: Gräser","meanings":["grass"]},
  {"word":"Blatt","ipa":"blat","pos":"N","flexions":"Sing: Blatt; Plural: Blätter","meanings":["leaf","sheet"]},
  {"word":"Tier","ipa":"tiːɐ̯","pos":"N","flexions":"Sing: Tier; Plural: Tiere","meanings":["animal"]},
  {"word":"Hund","ipa":"hʊnt","pos":"N","flexions":"Sing: Hund; Plural: Hunde","meanings":["dog"]},
  {"word":"Katze","ipa":"katsə","pos":"N","flexions":"Sing: Katze; Plural: Katzen","meanings":["cat"]},
  {"word":"Pferd","ipa":"pfeːɐ̯t","pos":"N","flexions":"Sing: Pferd; Plural: Pferde","meanings":["horse"]},
  {"word":"Kuh","ipa":"kuː","pos":"N","flexions":"Sing: Kuh; Plural: Kühe","meanings":["cow"]},
  {"word":"Schwein","ipa":"ʃvaɪn","pos":"N","flexions":"Sing: Schwein; Plural: Schweine","meanings":["pig"]},
  {"word":"Vogel","ipa":"foːɡəl","pos":"N","flexions":"Sing: Vogel; Plural: Vögel","meanings":["bird"]},
  {"word":"Fisch","ipa":"fɪʃ","pos":"N","flexions":"Sing: Fisch; Plural: Fische","meanings":["fish"]},
  {"word":"Buch","ipa":"buːx","pos":"N","flexions":"Sing: Buch; Plural: Bücher","meanings":["book"]},
  {"word":"Zeitung","ipa":"tsaɪtʊŋ","pos":"N","flexions":"Sing: Zeitung; Plural: Zeitungen","meanings":["newspaper"]},
  {"word":"Brief","ipa":"bʁiːf","pos":"N","flexions":"Sing: Brief; Plural: Briefe","meanings":["letter"]},
  {"word":"Papier","ipa":"paˈpiːɐ̯","pos":"N","flexions":"Sing: Papier; Plural: Papiere","meanings":["paper"]},
  {"word":"Stift","ipa":"ʃtɪft","pos":"N","flexions":"Sing: Stift; Plural: Stifte","meanings":["pen","pencil"]},
  {"word":"Schule","ipa":"ʃuːlə","pos":"N","flexions":"Sing: Schule; Plural: Schulen","meanings":["school"]},
  {"word":"Lehrer","ipa":"leːʁɐ","pos":"N","flexions":"Sing: Lehrer; Plural: Lehrer","meanings":["teacher (male)"]},
  {"word":"Lehrerin","ipa":"leːʁəʁɪn","pos":"N","flexions":"Sing: Lehrerin; Plural: Lehrerinnen","meanings":["teacher (female)"]},
  {"word":"Schüler","ipa":"ʃyːlɐ","pos":"N","flexions":"Sing: Schüler; Plural: Schüler","meanings":["student (male)"]},
  {"word":"Schülerin","ipa":"ʃyːləʁɪn","pos":"N","flexions":"Sing: Schülerin; Plural: Schülerinnen","meanings":["student (female)"]},
  {"word":"Universität","ipa":"univɛʁziˈtɛːt","pos":"N","flexions":"Sing: Universität; Plural: Universitäten","meanings":["university"]},
  {"word":"Student","ipa":"ʃtuˈdɛnt","pos":"N","flexions":"Sing: Student; Plural: Studenten","meanings":["university student (male)"]},
  {"word":"Studentin","ipa":"ʃtuˈdɛntɪn","pos":"N","flexions":"Sing: Studentin; Plural: Studentinnen","meanings":["university student (female)"]},
  {"word":"Arbeit","ipa":"aʁbaɪt","pos":"N","flexions":"Sing: Arbeit; Plural: Arbeiten","meanings":["work","job"]},
  {"word":"Beruf","ipa":"bəˈʁuːf","pos":"N","flexions":"Sing: Beruf; Plural: Berufe","meanings":["profession","career"]},
  {"word":"Büro","ipa":"byˈʁoː","pos":"N","flexions":"Sing: Büro; Plural: Büros","meanings":["office"]},
  {"word":"Arzt","ipa":"aʁtst","pos":"N","flexions":"Sing: Arzt; Plural: Ärzte","meanings":["doctor (male)"]},
  {"word":"Ärztin","ipa":"ɛʁtstɪn","pos":"N","flexions":"Sing: Ärztin; Plural: Ärztinnen","meanings":["doctor (female)"]},
  {"word":"Krankenschwester","ipa":"kʁaŋkənʃvɛstɐ","pos":"N","flexions":"Sing: Krankenschwester; Plural: Krankenschwestern","meanings":["nurse (female)"]},
  {"word":"Polizist","ipa":"poliˈtsɪst","pos":"N","flexions":"Sing: Polizist; Plural: Polizisten","meanings":["police officer (male)"]},
  {"word":"Verkäufer","ipa":"fɛɐ̯kɔɪfɐ","pos":"N","flexions":"Sing: Verkäufer; Plural: Verkäufer","meanings":["salesperson (male)"]},
  {"word":"Verkäuferin","ipa":"fɛɐ̯kɔɪfəʁɪn","pos":"N","flexions":"Sing: Verkäuferin; Plural: Verkäuferinnen","meanings":["salesperson (female)"]},
  {"word":"Koch","ipa":"kɔx","pos":"N","flexions":"Sing: Koch; Plural: Köche","meanings":["cook","chef (male)"]},
  {"word":"Köchin","ipa":"kœçɪn","pos":"N","flexions":"Sing: Köchin; Plural: Köchinnen","meanings":["cook","chef (female)"]},
  {"word":"Geld","ipa":"ɡɛlt","pos":"N","flexions":"Sing: Geld","meanings":["money"]},
  {"word":"Euro","ipa":"ɔɪʁo","pos":"N","flexions":"Sing: Euro; Plural: Euro","meanings":["euro"]},
  {"word":"Bank","ipa":"baŋk","pos":"N","flexions":"Sing: Bank; Plural: Banken","meanings":["bank"]},
  {"word":"Laden","ipa":"laːdən","pos":"N","flexions":"Sing: Laden; Plural: Läden","meanings":["store","shop"]},
  {"word":"Geschäft","ipa":"ɡəˈʃɛft","pos":"N","flexions":"Sing: Geschäft; Plural: Geschäfte","meanings":["business","store"]},
  {"word":"Markt","ipa":"maʁkt","pos":"N","flexions":"Sing: Markt; Plural: Märkte","meanings":["market"]},
  {"word":"Restaurant","ipa":"ʁɛstoˈʁɑ̃ː","pos":"N","flexions":"Sing: Restaurant; Plural: Restaurants","meanings":["restaurant"]},
  {"word":"Café","ipa":"kaˈfeː","pos":"N","flexions":"Sing: Café; Plural: Cafés","meanings":["café"]},
  {"word":"Hotel","ipa":"hoˈtɛl","pos":"N","flexions":"Sing: Hotel; Plural: Hotels","meanings":["hotel"]},
  {"word":"Krankenhaus","ipa":"kʁaŋkənhaʊs","pos":"N","flexions":"Sing: Krankenhaus; Plural: Krankenhäuser","meanings":["hospital"]},
  {"word":"Essen","ipa":"ɛsən","pos":"N","flexions":"Sing: Essen; Plural: Essen","meanings":["food","meal"]},
  {"word":"Brot","ipa":"bʁoːt","pos":"N","flexions":"Sing: Brot; Plural: Brote","meanings":["bread"]},
  {"word":"Fleisch","ipa":"flaɪʃ","pos":"N","flexions":"Sing: Fleisch","meanings":["meat"]},
  {"word":"Gemüse","ipa":"ɡəˈmyːzə","pos":"N","flexions":"Sing: Gemüse","meanings":["vegetables"]},
  {"word":"Obst","ipa":"oːpst","pos":"N","flexions":"Sing: Obst","meanings":["fruit"]},
  {"word":"Apfel","ipa":"apfəl","pos":"N","flexions":"Sing: Apfel; Plural: Äpfel","meanings":["apple"]},
  {"word":"Orange","ipa":"oˈʁɑ̃ːʒə","pos":"N","flexions":"Sing: Orange; Plural: Orangen","meanings":["orange"]},
  {"word":"Banane","ipa":"baˈnaːnə","pos":"N","flexions":"Sing: Banane; Plural: Bananen","meanings":["banana"]},
  {"word":"Kartoffel","ipa":"kaʁˈtɔfəl","pos":"N","flexions":"Sing: Kartoffel; Plural: Kartoffeln","meanings":["potato"]},
  {"word":"Reis","ipa":"ʁaɪs","pos":"N","flexions":"Sing: Reis","meanings":["rice"]},
  {"word":"Nudeln","ipa":"nuːdəln","pos":"N","flexions":"Plural: Nudeln","meanings":["noodles","pasta"]},
  {"word":"Suppe","ipa":"zʊpə","pos":"N","flexions":"Sing: Suppe; Plural: Suppen","meanings":["soup"]},
  {"word":"Salat","ipa":"zaˈlaːt","pos":"N","flexions":"Sing: Salat; Plural: Salate","meanings":["salad"]},
  {"word":"Käse","ipa":"kɛːzə","pos":"N","flexions":"Sing: Käse; Plural: Käse","meanings":["cheese"]},
  {"word":"Butter","ipa":"bʊtɐ","pos":"N","flexions":"Sing: Butter","meanings":["butter"]},
  {"word":"Ei","ipa":"aɪ","pos":"N","flexions":"Sing: Ei; Plural: Eier","meanings":["egg"]},
  {"word":"Milch","ipa":"mɪlç","pos":"N","flexions":"Sing: Milch","meanings":["milk"]},
  {"word":"Tee","ipa":"teː","pos":"N","flexions":"Sing: Tee","meanings":["tea"]},
  {"word":"Kaffee","ipa":"kafeː","pos":"N","flexions":"Sing: Kaffee","meanings":["coffee"]},
  {"word":"Saft","ipa":"zaft","pos":"N","flexions":"Sing: Saft; Plural: Säfte","meanings":["juice"]},
  {"word":"Bier","ipa":"biːɐ̯","pos":"N","flexions":"Sing: Bier; Plural: Biere","meanings":["beer"]},
  {"word":"Wein","ipa":"vaɪn","pos":"N","flexions":"Sing: Wein; Plural: Weine","meanings":["wine"]},
  {"word":"Kleidung","ipa":"klaɪdʊŋ","pos":"N","flexions":"Sing: Kleidung","meanings":["clothing"]},
  {"word":"Hemd","ipa":"hɛmt","pos":"N","flexions":"Sing: Hemd; Plural: Hemden","meanings":["shirt"]},
  {"word":"Hose","ipa":"hoːzə","pos":"N","flexions":"Sing: Hose; Plural: Hosen","meanings":["pants","trousers"]},
  {"word":"Rock","ipa":"ʁɔk","pos":"N","flexions":"Sing: Rock; Plural: Röcke","meanings":["skirt"]},
  {"word":"Kleid","ipa":"klaɪt","pos":"N","flexions":"Sing: Kleid; Plural: Kleider","meanings":["dress"]},
  {"word":"Jacke","ipa":"jakə","pos":"N","flexions":"Sing: Jacke; Plural: Jacken","meanings":["jacket"]},
  {"word":"Mantel","ipa":"mantəl","pos":"N","flexions":"Sing: Mantel; Plural: Mäntel","meanings":["coat"]},
  {"word":"Schuh","ipa":"ʃuː","pos":"N","flexions":"Sing: Schuh; Plural: Schuhe","meanings":["shoe"]},
  {"word":"Socke","ipa":"zɔkə","pos":"N","flexions":"Sing: Socke; Plural: Socken","meanings":["sock"]}
]
let lexicon = [
  {word:'der',ipa:'deːɐ̯',pos:'DET',flexions:'Masc.Def.Art',meanings:['the (masc)']},
  {word:'die',ipa:'diː',pos:'DET',flexions:'Fem/Pl.Def.Art',meanings:['the (fem/pl)']},
  {word:'das',ipa:'das',pos:'DET',flexions:'Neu.Def.Art',meanings:['the (neut)']},
  {word:'ein',ipa:'aɪn',pos:'DET',flexions:'Indef.Art',meanings:['a','one (masc/neut)']},
  {word:'Mann',ipa:'man',pos:'N',flexions:'Sing: Mann; Plural: Männer',meanings:['man','male']},
  {word:'Frau',ipa:'fraʊ',pos:'N',flexions:'Sing: Frau; Plural: Frauen',meanings:['woman','Mrs.']},
  {word:'Haus',ipa:'haʊs',pos:'N',flexions:'Sing: Haus; Plural: Häuser',meanings:['house']},
  {word:'Kind',ipa:'kɪnt',pos:'N',flexions:'Sing: Kind; Plural: Kinder',meanings:['child']},
  {word:'Auto',ipa:'aʊto',pos:'N',flexions:'Sing: Auto; Plural: Autos',meanings:['car']},
  {word:'ist',ipa:'ɪst',pos:'V',flexions:'3sg Präs: ist; Inf: sein',meanings:['is (to be)']},
  {word:'hat',ipa:'hat',pos:'V',flexions:'3sg Präs: hat; Inf: haben',meanings:['has (to have)']},
  {word:'geht',ipa:'geːt',pos:'V',flexions:'3sg Präs: geht; Inf: gehen',meanings:['goes']},
  {word:'sieht',ipa:'ziːt',pos:'V',flexions:'3sg Präs: sieht; Inf: sehen',meanings:['sees']},
  {word:'nimmt',ipa:'nɪmt',pos:'V',flexions:'3sg Präs: nimmt; Inf: nehmen',meanings:['takes']},
  {word:'in',ipa:'ɪn',pos:'P',flexions:'prep + Akk/Dat',meanings:['in']},
  {word:'auf',ipa:'aʊf',pos:'P',flexions:'prep + Akk/Dat',meanings:['on','onto']},
  {word:'mit',ipa:'mɪt',pos:'P',flexions:'prep + Dat',meanings:['with']},
  {word:'von',ipa:'fɔn',pos:'P',flexions:'prep + Dat',meanings:['from','of']},
  {word:'ich',ipa:'ɪç',pos:'PRON',flexions:'1sg',meanings:['I']},
  {word:'du',ipa:'duː',pos:'PRON',flexions:'2sg',meanings:['you (singular)']},
  {word:'er',ipa:'eːɐ̯',pos:'PRON',flexions:'3sg masc',meanings:['he']},
  {word:'sie',ipa:'ziː',pos:'PRON',flexions:'3sg fem / 3pl',meanings:['she','they']},
  {word:'wir',ipa:'viːɐ̯',pos:'PRON',flexions:'1pl',meanings:['we']},
  {word:'wer',ipa:'veːɐ̯',pos:'Q',flexions:'interrog',meanings:['who']},
  {word:'was',ipa:'vas',pos:'Q',flexions:'interrog',meanings:['what']},
  {word:'wo',ipa:'voː',pos:'Q',flexions:'interrog',meanings:['where']},
  {word:'warum',ipa:'vaˈʁʊm',pos:'Q',flexions:'interrog',meanings:['why']},
  {word:'schön',ipa:'ʃøːn',pos:'ADJ',flexions:'Pos: schön; Komp: schöner; Sup: am schönsten',meanings:['beautiful','nice']},
  {word:'alt',ipa:'alt',pos:'ADJ',flexions:'Pos: alt; Komp: älter',meanings:['old']},
  {word:'neu',ipa:'nɔʏ',pos:'ADJ',flexions:'Pos: neu; Komp: neuer',meanings:['new']},
  {word:'groß',ipa:'ɡroːs',pos:'ADJ',flexions:'Pos: groß; Komp: größer',meanings:['big','tall']}
];

function renderIndex(){
  const idx = document.getElementById('indexList'); idx.innerHTML='';
  const nonterms = Array.from(document.querySelectorAll('.nonterm')).map(n=>n.dataset.n);
  nonterms.forEach(n=>{
    const el = document.createElement('div'); el.innerHTML = `<a class="nonterm" data-n="${n}">${n}</a>`; idx.appendChild(el);
  });
}

function renderLex(){
  const el = document.getElementById('lexList'); el.innerHTML='';
  lexicon.slice(0,400).forEach(entry=>{
    const d = document.createElement('div'); d.className='lex-row';
    d.innerHTML = `<div style="flex:1"><a class="terminal" data-w="${entry.word}">${entry.word}</a> <span style="opacity:.7">(${entry.pos})</span></div><div class="flexions">${entry.flexions||''}</div>`;
    el.appendChild(d);
  });
}

function showModal(word){
  const m = document.getElementById('modal'); m.classList.add('open');
  const t = document.getElementById('modalTitle'); const b = document.getElementById('modalBody');
  const ent = lexicon.find(e=>e.word===word);
  if(!ent){ t.textContent = word; b.innerHTML = '<div style="opacity:.7">No dictionary entry found in lexicon.</div>'; return }
  t.textContent = `${ent.word} — /${ent.ipa||''}/`;
  b.innerHTML = `<div style="margin-top:8px"><strong>Part of speech:</strong> ${ent.pos||''}</div>
                 <div style="margin-top:8px"><strong>Flexions:</strong><div class="flexions" style="margin-top:6px">${ent.flexions||'—'}</div></div>
                 <div style="margin-top:8px"><strong>Meanings:</strong><ol>${(ent.meanings||[]).map(m=>`<li>${m}</li>`).join('')}</ol></div>`;
}

// events
renderIndex(); renderLex();

document.addEventListener('click', e=>{
  if(e.target.matches('.nonterm')){
    const n = e.target.dataset.n;
    const el = document.getElementById(n);
    if(el){ el.scrollIntoView({behavior:'smooth',block:'center'}); el.style.boxShadow='0 0 0 3px rgba(124,58,237,0.12)'; setTimeout(()=>el.style.boxShadow='none',600);
    }
  }
  if(e.target.matches('.terminal')){
    const w = e.target.dataset.w; showModal(w);
  }
});

document.getElementById('close').addEventListener('click', ()=>{document.getElementById('modal').classList.remove('open')});

// search
const search = document.getElementById('search'); document.getElementById('clear').addEventListener('click', ()=>{search.value=''; search.dispatchEvent(new Event('input'))});
search.addEventListener('input', ()=>{
  const q = search.value.trim().toLowerCase();
  // highlight matching nonterms
  document.querySelectorAll('.bnf-rule').forEach(r=>{ r.style.display='block'; r.style.opacity=1 });
  if(!q) return;
  document.querySelectorAll('.nonterm').forEach(nt=>{ if(nt.dataset.n.toLowerCase().includes(q)) nt.style.background='rgba(124,58,237,0.12)'; else nt.style.background='none'; });
  // hide rules that don't include query
  document.querySelectorAll('.bnf-rule').forEach(r=>{
    const text = r.textContent.toLowerCase(); if(!text.includes(q)) r.style.display='none';
  });
});

// import lexicon
document.getElementById('importLex').addEventListener('click', ()=>{
  const txt = document.getElementById('lexImport').value.trim(); if(!txt) return alert('Paste a JSON array of lexicon entries first');
  try{ const arr = JSON.parse(txt); if(!Array.isArray(arr)) throw new Error('Not an array'); lexicon = arr.concat(lexicon); renderLex(); alert('Imported ' + arr.length + ' entries (now '+lexicon.length+' total)'); }
  catch(err){ alert('JSON parse error: '+err.message) }
});

</script></body>
</html>